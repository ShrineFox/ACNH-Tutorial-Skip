flow Root():
    EventFlowSystemActor.SetMemoryEventPlayer('cBlancoEventPlayer:PE_Seo_Talk')
    if MainNpc.SeoAppearSide() == 0:
        EventFlowSystemActor.CameraSetDemoParam('SeoTalkLeft', 'cDefault', '', false, false, true, 0)
    else:
        EventFlowSystemActor.CameraSetDemoParam('SeoTalkRight', 'cDefault', '', false, false, true, 0)
    System.EventFlags['cPlayer:SeoFirstmeetingFlag'] = true
    if System.EventFlags['cPlayer:SeoRejectFlag']:
        # Hey, maaan, how 'bout this time? Care to part with that scallop?
        MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:003', false)
    else:
        # Hey, maaan, about that scallop of yours… Can I have it?
        MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:002', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        # Whoa! Thanks for your generosity, maaan.
        MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:004', false)
        MainNpc.SeoReaction('cDive')
        EventFlowSystemActor.WaitFrame(20)
        EventFlowSystemActor.DeleteTargetItem(2839, 1, false)
        MainNpc.DecideEventReward('cSeoReward')
        EventFlowSystemActor.SetMemoryEventPlayerReward('cBlancoEventPlayer:PE_Seo_GetItem')
        MainNpc.SetEventRewardToPlayerBaggage('cFree')
        MainNpc.SeoReaction('cSurface')
        if System.EventFlags['cPlayer:SeoFirstFlag']:
            # Since you were cool, I left you something you'll dig. While I'm at it, let me lay some truth on you…the deep kind.
            MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:006', false)
        else:
            # Since you were cool about the scallop, I left you a cool recipe in return. The pearls you need for that recipe are rare, but you can sometimes find t…
            MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:007', false)
            System.EventFlags['cPlayer:SeoFirstFlag'] = true
        System.EventFlags['cPlayer:SeoExchangeItemToday'] = true
        System.EventFlags['cLifeSupportAchievement:GiveScallopsToSeo'] += 1
        MainNpc.NpcSetAIBlackBoard('GiveScallop', 1)
        # Feel this…
        MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:008', false)
        MainNpc.NpcVoiceEchoOn()
        MainNpc.NpcSelectMessage('cWildCard', '', '', '', 'TalkSNpc/seo/SP_seo_word', '', '', '')
        MainNpc.NpcVoiceEchoOff()
        switch EventFlowSystemActor.RandomChoice3(3):
            case 0:
                # Wrap your noodle around that.
                MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:020', false)
            case 1:
                # Stick that in your skillet and let it simmer.
                MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:021', false)
            case 2:
                # Consider yourself truthed.
                MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:022', false)
        # Yep. Today is a gooood day.
        MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:009', true)
        if MainNpc.SeoCanReturnSwim():
            MainNpc.NpcChangeHeadCtrlMode('cNoLook', true)
            MainNpc.SeoMoveCameraOut()
        else:
            MainNpc.SeoReaction('cDive')
        MainNpc.MessageSuspend()
        MainNpc.SeoWarpBuoyOut()
        MainNpc.NpcChangeHeadCtrlMode('cNormal', true)
        run SeoEnd()
    else:
        # It's cool, maaan. Scallops come and scallops go, but the sea will always be there.
        MainNpc.OpenMessageWindow('TalkSNpc/seo/SP_seo:005', false)
        System.EventFlags['cPlayer:SeoRejectFlag'] = true
        MainNpc.SeoReaction('cDive')
        run SeoEnd()
 
flow SeoEnd():
    EventFlowSystemActor.BGMPropertyControl(8)
 
