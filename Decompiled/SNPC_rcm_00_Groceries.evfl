flow ChkChestNormal():
	run SNPC_rcm_00_Common::Rcm_OpenShoppingUI()
	run SNPC_rcm::Rcm_SeqClose()

flow Root():
	run SNPC_rcm::Check_ShopEnable()
	run Unlock_v200_Item_Grocery()
	run SNPC_rcm::Regulation()
	MainNpc.SetTwinsTag()
	System.EventFlags['cPlayerTemp:RcmShopshelfCheck'] = true
	MainNpc.NpcAISetting(9, true)
	MainNpc.NpcAISetting(5, true)
	Player.TurnBody(13, 0.0)
	Player.PlayerWaitTurn()
	if EventFlowSystemActor.IsMyVillage():
		run SNPC_rcm_03_RenualOpen::Chk_RenualOpen_Talk()
		switch SubflowResults@6[1]:
			case 0:
				run ChkChestNormal()
			case 1:
				run SNPC_rcm_03_RenualOpen::Rcm_RenualOpen1()
				System.EventFlags['cPlayer:RcmTalkAboutCupboard'] = true
				run SNPC_rcm::Rcm_SeqClose()
			case 2:
				run SNPC_rcm_00_In::Rcm_Market1_First()
				run SNPC_rcm::Rcm_SeqClose()
			case 3:
				run SNPC_rcm_03_RenualOpen::Rcm_RenualOpen2()
				System.EventFlags['cPlayer:RcmTalkAboutCupboard'] = true
				run SNPC_rcm::Rcm_SeqClose()
			case 4:
				run SNPC_rcm_00_In::Rcm_Market2_First()
				run SNPC_rcm::Rcm_SeqClose()
			case 5:
				run SNPC_rcm_02_BeforeRenual::Rcm_BeforeRenualFor2()
				run SNPC_rcm::Rcm_SeqClose()
	else:
		run ChkChestNormal()

flow Root_Init():
	run SNPC_rcm::EntrySubCast()

flow UnLockFIXLadderRecipe():
	if (EventFlowSystemActor.IsMyVillage()) and (EventFlowSystemActor.ShopLevel() in (`NooksCrannyInitial`, `NooksCrannyUpgraded`)) and (EventFlowSystemActor.PlayerHasCraftRecipe('', 2615)):
		System.EventFlags['cPlayer:UnlockBuyFIXLadderRecipe'] = true

flow Unlock_v200_Item_Grocery():
	run UnLockFIXLadderRecipe()
	run Obj_RcoMachine_MileExchange_v2_0_0_UnlockDisplay::ChkRecipePlus()
