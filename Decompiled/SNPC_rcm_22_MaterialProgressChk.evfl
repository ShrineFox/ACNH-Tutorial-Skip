flow Chk_HowManyType(MaterialRemain: int = 0):
    if System.EventFlags['cLand:RcmShopMaterial_Wood']:
        MaterialRemain += 1
    if System.EventFlags['cLand:RcmShopMaterial_HardWood']:
        MaterialRemain += 1
    if System.EventFlags['cLand:RcmShopMaterial_SoftWood']:
        MaterialRemain += 1
    if System.EventFlags['cLand:RcmShopMaterial_Iron']:
        MaterialRemain += 1
    if MaterialRemain == 0:
        SubflowResults[0] = 0
    elif MaterialRemain == 1:
        SubflowResults[0] = 1
    elif MaterialRemain == 2:
        SubflowResults[0] = 2
    elif MaterialRemain != 3:
        SubflowResults[0] = 4
    else:
        SubflowResults[0] = 3
 
flow Chk_Materials():
    if System.EventFlags['cLand:RcmShopMaterial_Wood']:
        SubflowResults[3] = 0
    elif System.EventFlags['cLand:RcmShopMaterial_HardWood']:
        SubflowResults[3] = 1
    elif System.EventFlags['cLand:RcmShopMaterial_SoftWood']:
        SubflowResults[3] = 2
    else:
        SubflowResults[3] = 3
 
flow Chk_Materials2(Material2: int = 0):
    if System.EventFlags['cLand:RcmShopMaterial_Wood']:
        if System.EventFlags['cLand:RcmShopMaterial_HardWood']:
            SubflowResults[2] = 5
        elif System.EventFlags['cLand:RcmShopMaterial_SoftWood']:
            SubflowResults[2] = 4
        else:
            SubflowResults[2] = 3
    elif not System.EventFlags['cLand:RcmShopMaterial_HardWood']:
        SubflowResults[2] = 0
    elif System.EventFlags['cLand:RcmShopMaterial_SoftWood']:
        SubflowResults[2] = 2
    else:
        SubflowResults[2] = 1
 
flow Chk_Materials3():
    if not System.EventFlags['cLand:RcmShopMaterial_Wood']:
        SubflowResults[1] = 0
    elif not System.EventFlags['cLand:RcmShopMaterial_HardWood']:
        SubflowResults[1] = 1
    elif System.EventFlags['cLand:RcmShopMaterial_SoftWood']:
        SubflowResults[1] = 3
    else:
        SubflowResults[1] = 2
 
flow Root():
    run Chk_HowManyType()
    switch SubflowResults@4[0]:
        case 1:
            run Chk_Materials()
        case 2:
            run Chk_Materials2()
        case 3:
            run Chk_Materials3()
        default:
            return
 
