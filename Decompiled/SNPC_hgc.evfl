flow Hgc_Chk_Closeness():
    if System.EventFlags['cPlayer:KotonoQuestCount'] < 20:
        SubflowResults[0] = 0
    elif System.EventFlags['cPlayer:KotonoQuestCount'] < 50:
        SubflowResults[0] = 1
    else:
        SubflowResults[0] = 2
 
flow Root():
    if EventFlowSystemActor.IsMyVillageEventFlowSystemActor.IsMyVillage():
        run Hgc_Chk_Closeness()
        EventFlowSystemActor.SetTagFromSystemEventFlowSystemActor.SetTagFromSystem('cFashionTheme', 'cDegit', 0, 0, '')
        if System.EventFlags['cPlayer:KotonoQuestClearFlag']:
            run SNPC_hgc_02_AfterQuest::Rootrun SNPC_hgc_02_AfterQuest::Root()
        elif System.EventFlags['cPlayer:KotonoQuestStartFlag']:
            run SNPC_hgc_01_NowQuest::Rootrun SNPC_hgc_01_NowQuest::Root()
        else:
            run SNPC_hgc_00_BeforeQuest::Rootrun SNPC_hgc_00_BeforeQuest::Root()
    else:
        switch EventFlowSystemActor.RandomChoiceExcludePrevious3EventFlowSystemActor.RandomChoiceExcludePrevious3(3, true):
            case 0:
                # So, you're not from this island either? I just love visiting new places. There's so much to learn!
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:150', false)
            case 1:
                # These islands are so full of natural beauty. That's why they're the perfect place to go for fashion inspiration.
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:151', false)
            case 2:
                # I'm traveling to all kinds of places in a search for fashion inspiration. I'm visiting ISLAND today, and, my goodness, there's so much I can learn frâ€¦
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:152', false)
 
