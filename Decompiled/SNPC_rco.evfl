flow CheckInfoMoveMyhome():
	if (not System.EventFlags['cPlayer:RcoTalkAboutMoveMyHome']) and (not System.EventFlags['cPlayer:MakeVillagePlayerFlag']) and (EventFlowSystemActor.PlayerHouseLevel() in (`BaseHouse`, `HouseExpansion1`, `BackRoom`, `LeftRoom`, `RightRoom`, `SecondFloor`, `Basement`)):
		# Ah! I have…<10:4>something else I need to talk to you about. At this construction consultation counter, homeowners can talk to me about moving their …
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:031', false)
		System.EventFlags['cPlayer:RcoTalkAboutMoveMyHome'] = true
		# Ah, now to change the subject…
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:000_03', false)
		run SNPC_rco_00_Common::Root()
		EventFlowSystemActor.ExitFlowchart()

flow ChkFirstCamperRequest():
	if (System.EventFlags['cLand:CampSiteBuilt']) and (EventFlowSystemActor.NpcHouseNum('cExist') < 6) and (System.EventFlags['cLand:RcoMeetFirstVisitorComplete']) and (not System.EventFlags['cLand:RcoBuildFirstVisitorsHousingKitOngoing']) and (System.EventFlags['cPlayer:IslandDevQuestOrderFirstCamperMyself']):
		run SNPC_rco_54_IslandDevelopment::SetFirstCamperHouseRequest()
		# Ah, now to change the subject…
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:000_03', false)
		run SNPC_rco_00_Common::Root()
		EventFlowSystemActor.ExitFlowchart()

flow RcoEntrieChk():
	if System.EventFlags['cPlayer:RcoTalked1stAfterPrologue']:
		run SNPC_rco_05_ChkCeremony::Root()
		if (EventFlowSystemActor.OfficeLevel() not in (`ResServiceTent0`, `ResServiceTent1`)) and (not System.EventFlags['cPlayer:RcoFirstTalkNewOffice']):
			run SNPC_rco_01_Office_1_Entries::OfficeOpening_NormalTalk()
		elif System.EventFlags['cPlayer:CanGetMileTicketTrialForMoving']:
			run SNPC_rco_03_ChkAfterRemodel::GiveMileTicketForMovingPlayer_Normal()
		else:
			run SNPC_rco_03_ChkAfterRemodel::Root()
			run SNPC_rco_04_ChkFinishLoan::Root()
			if EventFlowSystemActor.NetHasVisitor():
				if not System.EventFlags['cPlayerTemp:RcoTalkSceneFlag']:
					# Ah, PLAYER! Hello, hello!
					MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:000', false)
				# Apologies, but I'm abuzz with activity at the moment due to the off-island company visiting right now.
				MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:801', false)
				if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
					# You should use this opportunity to show off our island. Be an excellent host, PLAYER!
					MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:802_01', false)
				else:
					# We can always chat after our company leaves.
					MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:802_02', false)
			else:
				run ChkFirstCamperRequest()
				if System.EventFlags['cPlayer:RcoDIYtrialOngoing']:
					run SNPC_rco_01_Tent_1_Entries::RcoDIYongoing()
				elif System.EventFlags['cPlayer:RcoTalkAfterMuseumTent']:
					run SNPC_rco_01_Tent_1_Entries::RcoTentAboutBuildMuseumTent()
				else:
					if System.EventFlags['cPlayer:MakeVillagePlayerFlag']:
run SNPC_rco_53_MigrantsQuest::Rco_ImmQ_ReactTalkEntry()
					if System.EventFlags['cPlayer:RcoStandbyNoticeStorageExpansion']:
run SNPC_rco_10_Common_ExpandHouseStorage::NoticeExpandStorage_Normal()
					elif System.EventFlags['cPlayer:RcoStandbyNotice_v200_AddStorage']:
run SNPC_rco_10_Common_ExpandHouseStorage::v200_AddNoticeExpandStorage_Normal()
					elif System.EventFlags['cPlayer:RcoStandbyNotice_v200_AfterStorageExpansion']:
run SNPC_rco_10_Common_ExpandHouseStorage::v200_AfterExpandStorage_Normal()
					elif EventFlowSystemActor.OfficeLevel() in (`ResServiceTent0`, `ResServiceTent1`):
 run Sub_grp_Event13()
					else:
						if System.EventFlags['cPlayer:RcoTalkAboutOfficeWork']:
 run CheckInfoMoveMyhome()
	run Sub_grp_Event13()
						else:
run SNPC_rco_01_Office_1_Entries::IslandDevelopmentIntro()
	else:
		run RcoFirstVisit()

flow RcoFirstVisit():
	System.EventFlags['cPlayer:RcoTalked1stAfterPrologue'] = true
	System.EventFlags['cPlayer:RcoTentEnableDIYtrial'] = true
	if EventFlowSystemActor.OfficeLevel() in (`ResServiceTent0`, `ResServiceTent1`):
		if System.EventFlags['cPlayer:PlayerProducedByPlayerMoving']:
			# Ah, PLAYER! Welcome, welcome! This is Resident Services. Here, we provide support for all the residents of ISLAND. I'm sure you've already got the ha…
			MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:011', false)
		else:
			# Ah, PLAYER! Welcome, welcome! As you can see, it is quite cozy in here. It's funny how "cozy" doesn't always mean "comfortable," hm? Let me know if y…
			MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:001', false)
			if EventFlowSystemActor.ShopLevel() == `InResServiceTent`:
				# If you need some advice about basic island materials, you should talk to Timmy. He can help you procure some of the essentials for thriving in our li…
				MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:001_01', false)
	else:
		# Ah, PLAYER! Welcome to Resident Services! This is where we support the lives of all island residents. Feel free to chat with me about island life any…
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:002', false)
		System.EventFlags['cPlayer:RcoFirstTalkNewOffice'] = true
	if (System.EventFlags['cPlayer:PlayerProducedByPlayerMoving']) and (System.EventFlags['cPlayer:MainmenuRecipe']):
		# Now, normally the first thing we ask of any package-plan members is to attend a special DIY workshop. However, I don't think there's any need for tha…
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:012', false)
		System.EventFlags['cLand:FlightBalloonEnable'] = true
		System.EventFlags['cLand:MessageBottleAvailable'] = true
		if System.EventFlags['cPlayer:MakeVillagePlayerFlag']:
			# But, if you have time, it would be wonderful if I could get your help investigating the local wildlife. If you happen to catch any bugs or fish, plea…
			MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:013_01', false)
		elif EventFlowSystemActor.OfficeLevel() in (`ResServiceTent0`, `ResServiceTent1`):
			# So why don't you get out there and enjoy deserted-island life, hm?
			MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:013_02', false)
		else:
			# So why don't you get out there and enjoy life on your new island, hm?
			MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:013_03', false)
	else:
		# Oh! One more important thing… I'm offering a free DIY workshop that can help you really build out your island experience. I think it would be quite u…
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_03_PcHouseTent:001_02', false)

flow RcoFirstVisit_Force():
	System.EventFlags['cPlayerTemp:RcoTalkSceneFlag'] = true
	run SNPC_rco_01_Tent_1_Entries::RcoTent_Force_PlayerPos()
	run RcoFirstVisit()

flow RcoFirstVisit_Force_Init():
	run SNPC_rco_01_Tent_1_Entries::RcoTent_Force_DisableTalkCamera()

flow Root():
	if not EventFlowSystemActor.IsMyVillage():
		# RANDOM: Welcome to ISLAND! Please enjoy a relax… // You are in the ISLAND Resident Services… // Thank you for traveling all the way her…
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_10_ForVisitor:001', false)
	elif System.EventFlags['cLand:FinishiPC1Prologue']:
		run RcoEntrieChk()
		System.EventFlags['cPlayerTemp:RcoTalkSceneFlag'] = true
	else:
		run SNPC_rco_00_StartMainGame::Root()

flow Root_Init():
	if (not EventFlowSystemActor.NetHasVisitor()) and (not EventFlowSystemActor.IsSharePlay(0)) and (EventFlowSystemActor.OfficeLevel() in (`ResServiceTent0`, `ResServiceTent1`)) and (not System.EventFlags['cPlayer:RcoTalked1stAfterPrologue']) and (not System.EventFlags['cPlayer:RcoDIYtrialOngoing']) and (not System.EventFlags['cPlayer:RcoTalkAfterMuseumTent']) and (not System.EventFlags['cPlayer:RcoPaid1stCharge']) and (System.EventFlags['cLand:RcmImmQuestOpen']) and (not System.EventFlags['cLand:RcmImmQuestRunning']) and (MainNpc.NpcBlackBoard('ForceImmQIntro', 1)):
		MainNpc.SmartPhone(0)
		MainNpc.SmartPhone(2)

flow Skip_ChkNpcCoordeUnlockEv():
	run SNPC_rco_60_Event::Root()
	if not System.EventFlags['cPlayerTemp:RcoTalkSceneFlag']:
		# Ah, PLAYER! Hello, hello!
		MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_00_Common:000', false)
	run SNPC_rco_00_Common::Root()

local flow Sub_grp_Event13():
	if System.EventFlags['cPlayer:RcoTalkAboutRemakeTrial']:
		run SNPC_rco_01_Tent_1_Entries::RcoRemakeTrialIntro()
	elif (System.EventFlags['cPlayer:RcoTalkAboutNpcHouseEditOfficeBuild']) and (EventFlowSystemActor.OfficeLevel() not in (`ResServiceTent0`, `ResServiceTent1`)):
		run SNPC_rco_01_Office_1_Entries::NpcHouseCoordeRestartPMoving()
	elif not System.EventFlags['cPlayer:WHEREAREN_Unlock_CoordinateNpcHouse']:
		run Skip_ChkNpcCoordeUnlockEv()
	elif (not System.EventFlags['cPlayer:RcoCordinateNpcHouseSelEnable']) and (EventFlowSystemActor.OfficeLevel() not in (`ResServiceTent0`, `ResServiceTent1`)):
		run SNPC_rco_01_Office_1_Entries::NpcHouseCoordeOpen()
	else:
		run Skip_ChkNpcCoordeUnlockEv()
