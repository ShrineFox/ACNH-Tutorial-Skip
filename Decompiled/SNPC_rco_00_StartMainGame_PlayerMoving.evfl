flow PlayerMoving_CmnSmaphoSeq():
    # I believe you used a NookPhone from Nook Inc. on your last island, yes? Well, it should work here too! They probably made you turn it off for the fli…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1023_01', false)
    Player.SmartPhonePlayer.SmartPhone(0)
    EventFlowSystemActor.WaitFrameEventFlowSystemActor.WaitFrame(5)
    Player.SmartPhonePlayer.SmartPhone(4)
    System.EventFlags['cPlayer:PlayerMainUImenuEnable'] = true
    EventFlowSystemActor.PlayReportEventFlowSystemActor.PlayReport('cSeqEndTutorial', 0)
    System.EventFlags['cPlayer:MainUiClockEnable'] = true
    EventFlowSystemActor.WaitFrameEventFlowSystemActor.WaitFrame(30)
    EventFlowSystemActor.UIMenuDeviceAppearEventFlowSystemActor.UIMenuDeviceAppear('cBoot', 'cNone')
    EventFlowSystemActor.WaitFrameEventFlowSystemActor.WaitFrame(45)
    Player.SmartPhonePlayer.SmartPhone(5)
    EventFlowSystemActor.WaitFrameEventFlowSystemActor.WaitFrame(5)
    # I thought so! Yes, yes! It looks like you're getting perfect reception here on ISLAND!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1024', true)
    if System.EventFlags['cPlayer:IslandCreaterUnlockMoving']:
        # You can continue using any apps you had on your previous island as well. There's also a new app you can use: the Island Designer app! The Island Desi…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1024_02', true)
    else:
        # You can continue using the apps you had on your previous island here as well. Try them out later, hm?
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1024_01', false)
    Player.SmartPhonePlayer.SmartPhone(1)
    EventFlowSystemActor.WaitFrameEventFlowSystemActor.WaitFrame(5)
 
flow Return_SelectItem():
    # Excellent! In that case, please choose something else from your pockets for me to hold on to.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1009', false)
    MainNpc.NpcDeliveryMainNpc.NpcDelivery(10, 'Default')
    EventFlowSystemActor.MessageSuspendEventFlowSystemActor.MessageSuspend()
    run Event62()
 
flow Root_MainP():
    # Ohoho! Yes, it's quite normal to be worn out from such a long trip—and a major life event!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1001', false)
    # Now, as to what I wanted to speak about… Everything has arrived at last! Thank you for being patient. Yes, yes! The shipment just got here, and all y…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1002', false)
    if System.EventFlags['cPlayer:PlayerMovingwithNoBelongings']:
        run Skip_ReturnBelongings()
    else:
        # I hope you don't mind, but I noticed a box marked "Pockets" and took the liberty of bringing it with me. These are all the things that were in your p…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1003', false)
        if EventFlowSystemActor.CanMargeReserveItemEventFlowSystemActor.CanMargeReserveItem():
            MainNpc.SetDeliveryItemMainNpc.SetDeliveryItem(38, false)
            MainNpc.NpcDeliveryMainNpc.NpcDelivery(1, 'Default')
            EventFlowSystemActor.PlayerBaggageOperationForEventEventFlowSystemActor.PlayerBaggageOperationForEvent('cMargeFromReserve')
        else:
            # …Oh dear! It looks like you've already begun filling your pockets with things from this island. Your old belongings won't fit in your pockets like th…
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1004', false)
            MainNpc.SetDeliveryItemMainNpc.SetDeliveryItem(36, false)
            MainNpc.NpcDeliveryMainNpc.NpcDelivery(0, 'Default')
            EventFlowSystemActor.BaggageToLostItemBoxEventFlowSystemActor.BaggageToLostItemBox()
            System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving'] = true
            MainNpc.SetDeliveryItemMainNpc.SetDeliveryItem(38, false)
            MainNpc.NpcDeliveryMainNpc.NpcDelivery(1, 'Default')
            EventFlowSystemActor.PlayerBaggageOperationForEventEventFlowSystemActor.PlayerBaggageOperationForEvent('cMargeFromReserve')
        # There! Your belongings are all back where they…belong!
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1005', false)
        if System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']:
            # In the meantime, I'll place the things you entrusted to me inside the recycle box in Resident Services. Don't forget to come by and claim everything,…
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1006', false)
        run Root_MainP_BuildMyHome()
 
flow Root_MainP_BootSmapho():
    # Hmm, hmm… Yes, I believe that takes care of all your belongings!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1021', false)
    run Skip_TransferTentFurniture()
 
flow Root_MainP_BuildMyHome():
    # Next, let's take this tent down and get your house set up, hm?
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1007', true)
entrypoint Event20:
    EventFlowSystemActor.FadeOutEventFlowSystemActor.FadeOut('cCircle', 'cCircle', 'cBlack', 1.0, 1.0, true)
    if EventFlowSystemActor.HouseItemNumEventFlowSystemActor.HouseItemNum(1):
        if EventFlowSystemActor.CanMargeTentItemEventFlowSystemActor.CanMargeTentItem():
            SubflowResults[0] = 0
            MainNpc.SetDeliveryItemMainNpc.SetDeliveryItem(37, false)
            EventFlowSystemActor.PlayerBaggageOperationForEventEventFlowSystemActor.PlayerBaggageOperationForEvent('cMargeFromTent')
        else:
            SubflowResults[0] = 1
            EventFlowSystemActor.TentItemToLostItemBoxEventFlowSystemActor.TentItemToLostItemBox()
    else:
        SubflowResults[0] = 2
    EventFlowSystemActor.PlayerHouseRestoreEventFlowSystemActor.PlayerHouseRestore()
    EventFlowSystemActor.FadeInEventFlowSystemActor.FadeIn(true)
    # And done! Everything should be exactly the way it was before you moved, even your storage!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1008', false)
    switch SubflowResults@3[0]:
        case 0:
            # By the way, before I forget, here are the things that were in your tent.
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1009', false)
            MainNpc.NpcDeliveryMainNpc.NpcDelivery(1, 'Default')
            run Root_MainP_BootSmapho()
        case 1:
            if System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']:
                # By the way, I'll hold on to the things that were in your tent as well. I'll put them in the recycle box along with the other things you gave me.
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1009_02', false)
            else:
                # By the way, your pockets seem quite full at the moment, so I'll hold on to the things that were in your tent. You'll be able to find them inside the …
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1009_01', false)
            System.EventFlags['cPlayer:TentItemSendRecycleBoxByMoving'] = true
            run Root_MainP_BootSmapho()
        case 2:
            run Skip_TransferTentFurniture()
 
flow Root_OtherP():
    # Now, about where you'll live. Since you moved here from another island…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1001', false)
    if EventFlowSystemActor.SystemHasBaggageSpaceEventFlowSystemActor.SystemHasBaggageSpace('cPocketBag') < 1:
        # I know! Why don't we just relocate your entire home? Yes, yes! Except there is something important you'll need for this process, and your pockets app…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1003', false)
        switch EventFlowSystemActor.GeneralTalkChoice2EventFlowSystemActor.GeneralTalkChoice2():
            case 0, 1:
                # Excellent! In that case, please pick an item from your pockets for me to hold on to. Temporarily, of course!
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1004', true)
entrypoint Event62:
                EventFlowSystemActor.UIItemSelectWindowHandlingEventFlowSystemActor.UIItemSelectWindowHandling('cLostItemBox', 65534, '', '', 'cLostItemBox', false)
                MainNpc.SetDeliveryItemMainNpc.SetDeliveryItem(4, false)
                EventFlowSystemActor.SetTagFromUIResultEventFlowSystemActor.SetTagFromUIResult('cItemName', 0)
                if EventFlowSystemActor.MultiKindItemSelectIncludeEventFlowSystemActor.MultiKindItemSelectInclude('FtrWall', 'Counter', 'Pillar', '', '', '', '', '', 'cItemSelect'):
                    MainNpc.NpcDeliveryMainNpc.NpcDelivery(0, 'Keep')
                    # [A|An]<125:0:0000>? I'm very sorry to tell you this, but we're really not set up to store that sort of thing here. May I store something else for you…
                    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1008', false)
                    if EventFlowSystemActor.GeneralTalkChoice2EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        run Trash_AOCItem()
                    else:
                        run Return_SelectItem()
                else:
                    # I promise to take great care of your <125:0:0000>…
                    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1005', false)
                    MainNpc.NpcDeliveryMainNpc.NpcDelivery(0, 'Default')
                    EventFlowSystemActor.ItemSelectToLostItemBoxEventFlowSystemActor.ItemSelectToLostItemBox()
                    System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving'] = true
entrypoint Event65:
                    # In return, please take this <item>transfer kit!
                    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1006', false)
                    run Sub_Event69()
    else:
        # I know! Why don't we just relocate your entire home? Yes, yes! First, I want you to take one of these.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1002', false)
        run Sub_Event69()
 
flow Root_OtherP_BootSmapho():
    # Well, that's everything we needed to discuss about where you'll live. Now, what else was there… AH! I remember now! Yes, yes! There are still some ve…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1021', false)
    run PlayerMoving_CmnSmaphoSeq()
    run Tutorials_Prologue3_Orientation1::Rco_Orientation2P_Officerun Tutorials_Prologue3_Orientation1::Rco_Orientation2P_Office()
    if System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']:
        # Don't forget to visit the recycle box in Resident Services to retrieve your <125:0:0000>.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1022', false)
    # Well, if you'll excuse me, I should get back to work! Hmm? Your bill? You already covered the upfront costs on your previous island. Consider this a …
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1025', false)
    # I'm just so happy to have you as a resident of ISLAND and a client of Nook Inc.!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1026', true)
    run SNPC_rco_00_StartMainGame::Rco_OrientationEndrun SNPC_rco_00_StartMainGame::Rco_OrientationEnd()
 
flow Skip_ReturnBelongings():
    # How about we take this tent down and get your house set up, hm?
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1003_01', true)
    run Event20()
 
flow Skip_TransferTentFurniture():
    # Say…have you tried to use your whatchamacallit on this island yet?
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1022', false)
    switch EventFlowSystemActor.GeneralTalkChoice2EventFlowSystemActor.GeneralTalkChoice2():
        case 0, 1:
            # Ohoho! You haven't forgotten about your NookPhone, have you?
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1023', false)
            run PlayerMoving_CmnSmaphoSeq()
            # Well, if you'll excuse me, I should get back to work! Hmm? Your bill? You already covered the upfront costs on your previous island. Consider this a …
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1025', false)
            if (not System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']) and (not System.EventFlags['cPlayer:TentItemSendRecycleBoxByMoving']):
                # I'm just so happy to have you as a resident of ISLAND and a client of Nook Inc.!
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1026', true)
            else:
                # I'm just so happy to have you as a resident of ISLAND and a client of Nook Inc.! Oh! Please remember to come by the Resident Services tent to claim y…
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_01_StartingMaingame:1026_01', true)
            run SNPC_rco_00_StartMainGame::Rco_OrientationEndrun SNPC_rco_00_StartMainGame::Rco_OrientationEnd()
 
local flow Sub_Event69():
    MainNpc.SetDeliveryItemAtRandomMainNpc.SetDeliveryItemAtRandom(13346, true, 'cVillageRemakePattern', 0)
    MainNpc.NpcDeliveryMainNpc.NpcDelivery(1, 'Keep')
    # Simply use this <item>transfer kit to mark out where you'd like us to set up your house. While you're at it, why not take this chance to explore the …
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1007', false)
    MainNpc.NpcDeliveryMainNpc.NpcDelivery(2, 'Default')
    System.EventFlags['cPlayer:NotBuilt2PMyHomeAfterMoving'] = true
    run Root_OtherP_BootSmapho()
 
flow Trash_AOCItem():
    # Understood. Again, I'm sorry. I'll take your <125:0:0000>…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue3_Orientation1:1010', false)
    MainNpc.NpcDeliveryMainNpc.NpcDelivery(3, 'Default')
    EventFlowSystemActor.SystemDeletePlayerItemEventFlowSystemActor.SystemDeletePlayerItem('cItemWindow', 1)
    run Event65()
 
