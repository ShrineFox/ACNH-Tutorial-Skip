flow CantGive():
	# Er… Huh? You don't seem to have what I need at the moment. In order to organize donations, we need the full amount of a material to be donated all at…
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:091', false)

flow Choice_Give1Material():
	switch SubflowResults@4[11]:
		case 0:
			# It seems you happen to be carrying some <item>wood. Did you want to donate 30 pieces for the shop?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:081_01', false)
		case 1:
			# It seems you happen to be carrying some <item>hardwood. Did you want to donate 30 pieces for the shop?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:081_02', false)
		case 2:
			# It seems you happen to be carrying some <item>softwood. Did you want to donate 30 pieces for the shop?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:081_03', false)
		case 3:
			# It seems you happen to be carrying some <item>iron nuggets. Did you want to donate 30 of those for the shop?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:081_04', false)
	run SNPC_rcm_24_MaterialGiveProcess::Root()
	run GotReward()

flow Choice_Give2Materials():
	SubflowResults[6] = 1
	switch SubflowResults@6[12]:
		case 0:
			# It seems you're carrying some <item>wood and <item>hardwood. Did you want to donate 30 pieces of each?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:082_01', false)
		case 1:
			# It seems you're carrying some <item>wood and <item>softwood. Did you want to donate 30 pieces of each?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:082_02', false)
		case 2:
			# It seems you're carrying some <item>wood and <item>iron nuggets. Did you want to donate 30 of each now?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:082_03', false)
		case 3:
			# It seems you're carrying some <item>hardwood and <item>softwood. Did you want to donate 30 pieces of each?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:082_04', false)
		case 4:
			# It seems you're carrying some <item>hardwood and <item>iron nuggets. Did you want to donate 30 of each now?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:082_05', false)
		case 5:
			# It seems you're carrying some <item>softwood and <item>iron nuggets. Did you want to donate 30 of each now?
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:082_06', false)
	run SNPC_rcm_24_MaterialGiveProcess::Root()
	run SNPC_rcm_22_MaterialProgressChk::Root()
	run GotReward()

flow DonateMaterials_Remain1():
	switch SubflowResults@4[1]:
		case 0:
			if EventFlowSystemActor.HasTargetItem(2768, 30):
				run SNPC_rcm_23_MaterialBelongingChk::SetWood()
				# We already received some donations, so right now we need 30 pieces of <item>wood… Can I ask you for that?
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:052_01', false)
				run Sub_Event127()
			else:
				# We already received some of the necessary donations, so we only need 30 pieces of <item>wood now!
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_01', false)
				# We'd like to receive donations in the exact amount needed, just to help keep things organized. So when you've gathered up enough of something we need…
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_05', false)
		case 1:
			if EventFlowSystemActor.HasTargetItem(2769, 30):
				run SNPC_rcm_23_MaterialBelongingChk::SetHardWood()
				# We already received some donations, so right now we need 30 pieces of <item>hardwood… Can you donate that?
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:052_02', false)
				run Sub_Event127()
			else:
				# We already received some of the necessary donations, so we only need 30 pieces of <item>hardwood now!
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_02', false)
				# We'd like to receive donations in the exact amount needed, just to help keep things organized. So when you've gathered up enough of something we need…
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_05', false)
		case 2:
			if EventFlowSystemActor.HasTargetItem(2767, 30):
				run SNPC_rcm_23_MaterialBelongingChk::SetSoftWood()
				# We already received some donations, so right now we need 30 pieces of <item>softwood… Can you donate that?
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:052_03', false)
				run Sub_Event127()
			else:
				# We already received some of the necessary donations, so we only need 30 pieces of <item>softwood now!
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_03', false)
				# We'd like to receive donations in the exact amount needed, just to help keep things organized. So when you've gathered up enough of something we need…
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_05', false)
		case 3:
			if EventFlowSystemActor.HasTargetItem(2511, 30):
				run SNPC_rcm_23_MaterialBelongingChk::SetIron()
				# We already received some donations, so we need 30 <item>iron nuggets… Can you handle that?
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:052_04', false)
				run Sub_Event127()
			else:
				# We already received some of the necessary donations, so we only need 30 <item>iron nuggets now!
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_04', false)
				# We'd like to receive donations in the exact amount needed, just to help keep things organized. So when you've gathered up enough of something we need…
				MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:053_05', false)

flow DonateMaterials_Remain2():
	switch SubflowResults@6[2]:
		case 0:
			# Right now we're asking for two kinds of donations: <item>wood and <item>hardwood.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:072_01', false)
		case 1:
			# Right now we're asking for two kinds of donations: <item>wood and <item>softwood.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:072_02', false)
		case 2:
			# Right now we're asking for two kinds of donations: <item>wood and <item>iron nuggets.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:072_03', false)
		case 3:
			# Right now we're asking for two kinds of donations: <item>hardwood and <item>softwood.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:072_04', false)
		case 4:
			# Right now we're asking for two kinds of donations: <item>hardwood and <item>iron nuggets.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:072_05', false)
		case 5:
			# Right now we're asking for two kinds of donations: <item>softwood and <item>iron nuggets.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:072_06', false)
	switch SubflowResults@5[10]:
		case 0:
			run CantGive()
		case 1:
			switch SubflowResults@6[2]:
				case 0:
					if SubflowResults@4[11] in (0, 1):
run Choice_Give1Material()
					else:
						run CantGive()
				case 1:
					if SubflowResults@4[11] in (0, 2):
run Choice_Give1Material()
					else:
						run CantGive()
				case 2:
					if SubflowResults@4[11] in (0, 3):
run Choice_Give1Material()
					else:
						run CantGive()
				case 3:
					if SubflowResults@4[11] in (0, 3):
						run CantGive()
					else:
run Choice_Give1Material()
				case 4:
					if SubflowResults@4[11] in (0, 2):
						run CantGive()
					else:
run Choice_Give1Material()
				case 5:
					if SubflowResults@4[11] in (0, 1):
						run CantGive()
					else:
run Choice_Give1Material()
		case 2:
			switch SubflowResults@6[2]:
				case 0:
					switch SubflowResults@6[12]:
						case 0:
	 run Remain2Give2()
						case 1, 2:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 3, 4:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 5:
	   run CantGive()
				case 1:
					switch SubflowResults@6[12]:
						case 0, 2:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 1:
	 run Remain2Give2()
						case 3, 5:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 4:
	   run CantGive()
				case 2:
					switch SubflowResults@6[12]:
						case 0, 1:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 2:
	 run Remain2Give2()
						case 3:
	   run CantGive()
						case 4, 5:
  SubflowResults[11] = 3
run Choice_Give1Material()
				case 3:
					switch SubflowResults@6[12]:
						case 0, 4:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 1, 5:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 2:
	   run CantGive()
						case 3:
	 run Remain2Give2()
				case 4:
					switch SubflowResults@6[12]:
						case 0, 3:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 1:
	   run CantGive()
						case 2, 5:
  SubflowResults[11] = 3
run Choice_Give1Material()
						case 4:
	 run Remain2Give2()
				case 5:
					switch SubflowResults@6[12]:
						case 0:
	   run CantGive()
						case 1, 3:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 2, 4:
  SubflowResults[11] = 3
run Choice_Give1Material()
						case 5:
	 run Remain2Give2()
		case 3:
			switch SubflowResults@6[2]:
				case 0:
					switch SubflowResults@4[13]:
						case 0:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 1:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 2, 3:
  SubflowResults[12] = 0
	 run Remain2Give2()
				case 1:
					switch SubflowResults@4[13]:
						case 0:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 1, 3:
  SubflowResults[12] = 1
	 run Remain2Give2()
						case 2:
  SubflowResults[11] = 0
run Choice_Give1Material()
				case 2:
					switch SubflowResults@4[13]:
						case 0:
  SubflowResults[11] = 3
run Choice_Give1Material()
						case 1, 2:
  SubflowResults[12] = 2
	 run Remain2Give2()
						case 3:
  SubflowResults[11] = 0
run Choice_Give1Material()
				case 3:
					switch SubflowResults@4[13]:
						case 0, 3:
  SubflowResults[12] = 3
	 run Remain2Give2()
						case 1:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 2:
  SubflowResults[11] = 1
run Choice_Give1Material()
				case 4:
					switch SubflowResults@4[13]:
						case 0, 2:
  SubflowResults[12] = 4
	 run Remain2Give2()
						case 1:
  SubflowResults[11] = 3
run Choice_Give1Material()
						case 3:
  SubflowResults[11] = 1
run Choice_Give1Material()
				case 5:
					switch SubflowResults@4[13]:
						case 0, 1:
  SubflowResults[12] = 5
	 run Remain2Give2()
						case 2:
  SubflowResults[11] = 3
run Choice_Give1Material()
						case 3:
  SubflowResults[11] = 2
run Choice_Give1Material()
		case 4:
			switch SubflowResults@6[2]:
				case 0:
					SubflowResults[12] = 0
				case 1:
					SubflowResults[12] = 1
				case 2:
					SubflowResults[12] = 2
				case 3:
					SubflowResults[12] = 3
				case 4:
					SubflowResults[12] = 4
				case 5:
					SubflowResults[12] = 5
			run Remain2Give2()

flow DonateMaterials_Remain3():
	switch SubflowResults@4[3]:
		case 0:
			# Right now we're asking for three kinds of donations: <item>hardwood, <item>softwood, and <item>iron nuggets.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:071_01', false)
		case 1:
			# Right now we're asking for three kinds of donations: <item>wood, <item>softwood, and <item>iron nuggets.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:071_02', false)
		case 2:
			# Right now we're asking for three kinds of donations: <item>wood, <item>hardwood, and <item>iron nuggets.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:071_03', false)
		case 3:
			# Right now we're asking for three kinds of donations: <item>hardwood, <item>softwood, and regular <item>wood!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:071_04', false)
	switch SubflowResults@5[10]:
		case 0:
			run CantGive()
		case 1:
			switch SubflowResults@4[3]:
				case 0:
					if EventFlowSystemActor.HasTargetItem(2768, 30):
						run CantGive()
					else:
run Choice_Give1Material()
				case 1:
					if EventFlowSystemActor.HasTargetItem(2769, 30):
						run CantGive()
					else:
run Choice_Give1Material()
				case 2:
					if EventFlowSystemActor.HasTargetItem(2767, 30):
						run CantGive()
					else:
run Choice_Give1Material()
				case 3:
					if EventFlowSystemActor.HasTargetItem(2511, 30):
						run CantGive()
					else:
run Choice_Give1Material()
		case 2:
			switch SubflowResults@4[3]:
				case 0:
					switch SubflowResults@6[12]:
						case 0:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 1:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 2:
  SubflowResults[11] = 3
run Choice_Give1Material()
						case 3, 4, 5:
run Choice_Give2Materials()
				case 1:
					switch SubflowResults@6[12]:
						case 0:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 1, 2, 5:
run Choice_Give2Materials()
						case 3:
  SubflowResults[11] = 2
run Choice_Give1Material()
						case 4:
  SubflowResults[11] = 3
run Choice_Give1Material()
				case 2:
					switch SubflowResults@6[12]:
						case 0, 2, 4:
run Choice_Give2Materials()
						case 1:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 3:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 5:
  SubflowResults[11] = 3
run Choice_Give1Material()
				case 3:
					switch SubflowResults@6[12]:
						case 0, 1, 3:
run Choice_Give2Materials()
						case 2:
  SubflowResults[11] = 0
run Choice_Give1Material()
						case 4:
  SubflowResults[11] = 1
run Choice_Give1Material()
						case 5:
  SubflowResults[11] = 2
run Choice_Give1Material()
		case 3:
			switch SubflowResults@4[3]:
				case 0:
					switch SubflowResults@4[13]:
						case 0:
	 run Remain3Give3()
						case 1:
  SubflowResults[12] = 5
run Choice_Give2Materials()
						case 2:
  SubflowResults[12] = 4
run Choice_Give2Materials()
						case 3:
  SubflowResults[12] = 3
run Choice_Give2Materials()
				case 1:
					switch SubflowResults@4[13]:
						case 0:
  SubflowResults[12] = 5
run Choice_Give2Materials()
						case 1:
	 run Remain3Give3()
						case 2:
  SubflowResults[12] = 2
run Choice_Give2Materials()
						case 3:
  SubflowResults[12] = 1
run Choice_Give2Materials()
				case 2:
					switch SubflowResults@4[13]:
						case 0:
  SubflowResults[12] = 4
run Choice_Give2Materials()
						case 1:
  SubflowResults[12] = 2
run Choice_Give2Materials()
						case 2:
	 run Remain3Give3()
						case 3:
  SubflowResults[12] = 0
run Choice_Give2Materials()
				case 3:
					switch SubflowResults@4[13]:
						case 0:
  SubflowResults[12] = 3
run Choice_Give2Materials()
						case 1:
  SubflowResults[12] = 1
run Choice_Give2Materials()
						case 2:
  SubflowResults[12] = 0
run Choice_Give2Materials()
						case 3:
	 run Remain3Give3()
		case 4:
			run Remain3Give3HaveAll()

flow DonateMaterials_Remain4():
	switch SubflowResults@5[10]:
		case 0:
			run CantGive()
		case 1:
			run Choice_Give1Material()
		case 2:
			run Choice_Give2Materials()
		case 3:
			SubflowResults[6] = 2
			switch SubflowResults@4[13]:
				case 0:
					# Right now, you have some <item>softwood, <item>hardwood, and <item>iron nuggets. Do you want to donate 30 of each?
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:083_01', false)
				case 1:
					# Right now, you have some <item>softwood, <item>wood, and <item>iron nuggets. Do you want to donate 30 of each?
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:083_02', false)
				case 2:
					# Right now, you have some <item>wood, <item>hardwood, and <item>iron nuggets. Do you want to donate 30 of each?
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:083_03', false)
				case 3:
					# Right now, you have some <item>softwood, <item>wood, and <item>hardwood. Do you want to donate 30 of each?
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:083_04', false)
			run SNPC_rcm_24_MaterialGiveProcess::Root()
			run SNPC_rcm_22_MaterialProgressChk::Root()
			run GotReward()
		case 4:
			SubflowResults[6] = 3
			# Let's see. You brought in…<10:4> Oh my! You brought in everything we need! All at once! Are you really going to provide all four kinds of materials r…
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:061', false)
			run SNPC_rcm_24_MaterialGiveProcess::Root()
			run SNPC_rcm_22_MaterialProgressChk::Root()
			run GotReward()

flow GotReward():
	run SNPC_rcm_22_MaterialProgressChk::Root()
	switch SubflowResults@5[0]:
		case 1:
			# Thank you so much! This brings us one step closer to building a shop.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:092_01', false)
			run Sub_grp_Event112()
		case 2:
			# Thank you so much! Now we're halfway to our donation goals!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:092_02', false)
			run Sub_grp_Event112()
		case 3:
			# Thank you so much! We only need one last bit to reach our donation goals for building the shop.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:092_03', false)
			run Sub_grp_Event112()
		case 4:
			# Oh my goodness! This means we have everything we need to get started on our shop!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:055', false)
			switch SubflowResults@4[6]:
				case 0:
					# And because you helped gather what we need to start construction on the shop, we want you to have the honor. What is this honor, you ask?
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:056_04', false)
				case 1:
					# As a thank-you… Please have [a|an] <125:0:0000>!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:056_03', true)
					run Sub_Event301()
				case 2:
					# As a thank-you…please have [a|an] <125:0:0000> and [a|an]<125:0:0001>!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:056_02', true)
					run Sub_Event301()
				case 3:
					# As a thank-you…please take [a|an] <125:0:0000>, [a|an] <125:0:0001>, and… [a|an]<125:0:0002>!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:056_01', true)
					run Sub_Event301()
			# We'd like you, a key figure in making this happen, to pick out the perfect location for the new shop!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:058_01', true)
			MainNpc.SetDeliveryItemAtRandom(2756, true, 'cVillageRemakePattern', 0)
			MainNpc.NpcDelivery(1, 'Keep')
			# Place that <item>shop construction kit wherever you like, and we'll get started on construction. I'm so excited to see the location you pick for us!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:058_02', true)
			MainNpc.NpcDelivery(2, 'Default')
			System.EventFlags['cPlayer:Prologue4RcmGetTent'] = true
			System.EventFlags['cLand:RcmShopMaterialComplete'] = true
			System.EventFlags['cLand:OpeningSeqBGMChangeCounter'] = 10
		default:
			return

flow Remain2Give2():
	SubflowResults[6] = 1
	# OK, you brought in…<10:4> My goodness! You brought in the rest of what we need! Are you really going to donate all the remaining materials?
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:062', false)
	run SNPC_rcm_24_MaterialGiveProcess::Root()
	run SNPC_rcm_22_MaterialProgressChk::Root()
	run GotReward()

flow Remain3Give3():
	SubflowResults[6] = 2
	# OK, you brought in…<10:4> My goodness! You brought in the rest of what we need! Are you really going to donate all the remaining materials?
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:062', false)
	run SNPC_rcm_24_MaterialGiveProcess::Root()
	run GotReward()

flow Remain3Give3HaveAll():
	SubflowResults[6] = 2
	# OK, you brought in…<10:4> My goodness! You brought in the rest of what we need! Are you really going to donate all the remaining materials?
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:062', false)
	switch SubflowResults@4[3]:
		case 0:
			SubflowResults[13] = 0
		case 1:
			SubflowResults[13] = 1
		case 2:
			SubflowResults[13] = 2
		case 3:
			SubflowResults[13] = 3
	run SNPC_rcm_24_MaterialGiveProcess::Root()
	run GotReward()

flow Root():
	EventFlowSystemActor.UIMoneyDisappear()
	run SNPC_rcm_22_MaterialProgressChk::Root()
	run SNPC_rcm_23_MaterialBelongingChk::Root()
	# Right now we're asking for donations to get the materials we need to build a shop!
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:015', false)
	if EventFlowSystemActor.GeneralTalkChoice3() == 0:
		# Oh, you'll make a donation? Thank you so much for helping us!
		MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:051', false)
		switch SubflowResults@4[0]:
			case 0:
				run DonateMaterials_Remain4()
			case 1:
				run DonateMaterials_Remain3()
			case 2:
				run DonateMaterials_Remain2()
			case 3:
				run DonateMaterials_Remain1()
	else:
		run TalkCollectingProgress()

local flow Sub_Event127():
	run SNPC_rcm_24_MaterialGiveProcess::Root()
	run GotReward()

local flow Sub_Event301():
	MainNpc.NpcDelivery(1, 'Default')
	# One more thing… Since we have all the materials we need and can start construction on the shop…
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:057', false)

local flow Sub_grp_Event112():
	switch SubflowResults@3[6]:
		case 0:
			# To thank you, I'd like to offer you [a|an]<125:0:0000>!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:093_01', true)
		case 1:
			# To thank you, let me offer you [a|an] <125:0:0000> and [a|an]<125:0:0001>.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:093_02', true)
		case 2:
			# To thank you, let me offer you [a|an] <125:0:0000>, [a|an] <125:0:0001>, and… [a|an]<125:0:0002>!
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:093_03', true)
	MainNpc.NpcDelivery(1, 'Default')
	run SNPC_rcm_22_MaterialProgressChk::Root()
	switch SubflowResults@4[0]:
		case 1, 2:
			# We'd love your cooperation in donating the remaining materials.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:094_01', false)
		case 3:
			# We'd love your cooperation in donating the last type of material we need.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:094_02', false)
		default:
			return

flow TalkCollectingProgress():
	# We need 30 pieces each of <item>wood, <item>hardwood, and <item>softwood, as well as 30 <item>iron nuggets to build the shop.
	MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:101', false)
	switch SubflowResults@4[0]:
		case 0:
			# You don't need to bring in everything at once. Once you have 30 pieces of any of the materials we need, I'd appreciate it if you could bring them in.
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:102', false)
		case 1:
			# Well, some of the materials we need have already been donated, so right now we're looking for…
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_01', false)
			switch SubflowResults@4[3]:
				case 0:
					# 30 pieces each of <item>hardwood and <item>softwood, plus 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_02_01', false)
				case 1:
					# 30 pieces each of <item>wood and <item>softwood, plus 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_02_02', false)
				case 2:
					# 30 pieces each of <item>wood and <item>hardwood, plus 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_02_03', false)
				case 3:
					# 30 pieces each of <item>wood, <item>hardwood, and <item>softwood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_02_04', false)
		case 2:
			# Well, some of the materials we need have already been donated, so right now we're looking for…
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_01', false)
			switch SubflowResults@6[2]:
				case 0:
					# 30 pieces each of <item>wood and <item>hardwood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_03_01', false)
				case 1:
					# 30 pieces each of <item>wood and <item>softwood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_03_02', false)
				case 2:
					# 30 pieces of <item>wood as well as 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_03_03', false)
				case 3:
					# 30 pieces each of <item>hardwood and <item>softwood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_03_04', false)
				case 4:
					# 30 pieces of <item>hardwood as well as 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_03_05', false)
				case 5:
					# 30 pieces of <item>softwood as well as 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_03_06', false)
		case 3:
			# Well, some of the materials we need have already been donated, so right now we're looking for…
			MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_01', false)
			switch SubflowResults@4[1]:
				case 0:
					# 30 pieces of <item>wood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_04_01', false)
				case 1:
					# 30 pieces of <item>hardwood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_04_02', false)
				case 2:
					# 30 pieces of <item>softwood.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_04_03', false)
				case 3:
					# 30 <item>iron nuggets.<10:4> Thank you in advance for your help!
					MainNpc.OpenMessageWindow('TalkSNpc/rcm/SP_rcm_02_TentRequest:103_04_04', false)
