flow EndTalk():
    if not System.EventFlags['cWherearenPlayer:ManGenerateInFieldTemp']:
        run FromAmiiboReader()
    elif not System.EventFlags['cPlayer:WHEREAREN_Unlock_EnvSound_01']:
        # RANDOM: There's a lovely breeze coming in throu… // Wardell is probably somewhere he can re…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:236', true)
    elif System.EventFlags['cPlayer:WHEREAREN_Unlock_EnvSound_02']:
        # RANDOM: There's a lovely breeze coming in throu… // Wardell is probably somewhere he can re… // Do you suppose Wardell goes out so he c…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:246', true)
    else:
        # RANDOM: There's a lovely breeze coming in throu… // Wardell is probably somewhere he can re… // Wardell's always so calm and quiet. I'v…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:245', true)
 
flow EventStart_EnvSound01():
    run SNPC_otg_01_WherearenOffice::HouseCompleteActingrun SNPC_otg_01_WherearenOffice::HouseCompleteActing()
    # <50:3>PLAYER, welcome back!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:231', false)
    run SNPC_otg_01_WherearenOffice::SetSalaryForEventrun SNPC_otg_01_WherearenOffice::SetSalaryForEvent()
    # Here is your payment for that last job—<90:44:0000>.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:232', true)
    run SNPC_otg_01_WherearenOffice::GetSalaryForEventrun SNPC_otg_01_WherearenOffice::GetSalaryForEvent()
    # A moment ago, Wardell was praising you for how hard you're working. Never heard him chatter on so.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:233', false)
    MainNpc.TurnNeckMainNpc.TurnNeck(11, false)
    MainNpc.TurnBodyMainNpc.TurnBody(12, 235.0)
    # Isn't that right, Wardell? Huh? When did he slip out? I swear he can be quick when he wants to be.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:234', false)
    MainNpc.TurnBodyMainNpc.TurnBody(10, 0.0)
    # He must have gone to stare at the ocean. That's how he always spends his breaks. You know what! The two of us should take a break too. At least until…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:235', true)
    System.EventFlags['cWherearenPlayer:SeqEnvSoundOngoing'] = true
    System.EventFlags['cWherearenPlayer:Prohibit_NewOrder'] = true
    SubflowResults[3] = 0
    run SNPC_otg_01_WherearenOffice::OrderClose_Completerun SNPC_otg_01_WherearenOffice::OrderClose_Complete()
    run SNPC_otg_01_WherearenOffice::Otg_ReturnHomePosrun SNPC_otg_01_WherearenOffice::Otg_ReturnHomePos()
 
flow EventStart_EnvSound02():
    run SNPC_otg_01_WherearenOffice::HouseCompleteActingrun SNPC_otg_01_WherearenOffice::HouseCompleteActing()
    # <50:3>PLAYER, welcome back!
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:241', false)
    run SNPC_otg_01_WherearenOffice::SetSalaryForEventrun SNPC_otg_01_WherearenOffice::SetSalaryForEvent()
    # Here is your payment for that last job—<90:44:0000>.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:242', true)
    run SNPC_otg_01_WherearenOffice::GetSalaryForEventrun SNPC_otg_01_WherearenOffice::GetSalaryForEvent()
    MainNpc.TurnNeckMainNpc.TurnNeck(11, false)
    MainNpc.TurnBodyMainNpc.TurnBody(12, 235.0)
    MainNpc.NpcWaitTurnMainNpc.NpcWaitTurn()
    # Wardell headed out a moment ago. Probably off to sit and stare at the ocean again.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:243', false)
    MainNpc.TurnBodyMainNpc.TurnBody(10, 0.0)
    # We should take a break while he's out too. Nothing good comes from overextending yourself! Why not walk around the island? That'd be a lovely way to …
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:244', true)
    System.EventFlags['cWherearenPlayer:SeqEnvSoundOngoing'] = true
    System.EventFlags['cWherearenPlayer:Prohibit_NewOrder'] = true
    SubflowResults[3] = 0
    run SNPC_otg_01_WherearenOffice::OrderClose_Completerun SNPC_otg_01_WherearenOffice::OrderClose_Complete()
    run SNPC_otg_01_WherearenOffice::Otg_ReturnHomePosrun SNPC_otg_01_WherearenOffice::Otg_ReturnHomePos()
 
flow EventStart_EnvSound03():
    run EventStart_EnvSound02()
 
flow FromAmiiboReader():
    # Welcome back, PLAYER! Feeling refreshed? With you and Wardell both back, that means my break's over. Let me know when you're ready to start working.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/otg/SP_otg_04_WherearenEvent:237', true)
    run FromGrowUp()
 
flow FromGrowUp():
    System.EventFlags['cWherearenPlayer:SeqEnvSoundOngoing'] = false
    if not System.EventFlags['cWherearenPlayer:SeqEventReserveInOffice']:
        System.EventFlags['cWherearenPlayer:Prohibit_NewOrder'] = false
 
flow FromGrowUp_Reset03():
    System.EventFlags['cWherearenPlayer:ManGenerateInFieldTemp'] = false
    System.EventFlags['cWherearenPlayer:SeqEnvSoundOngoing'] = false
    if not System.EventFlags['cWherearenPlayer:SeqEventReserveInOffice']:
        System.EventFlags['cWherearenPlayer:Prohibit_NewOrder'] = false
 
