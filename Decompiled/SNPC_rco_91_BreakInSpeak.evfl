flow ObjRcoMachineCheck1st():
    run ObjRcoStandChair()
    run AI_NPC_Rco::CheckRob_ATM_Directionrun AI_NPC_Rco::CheckRob_ATM_Direction()
    System.EventFlags['cPlayerTemp:RcoMachineTalkCntl'] = true
    if EventFlowSystemActor.PlayerHouseLevelEventFlowSystemActor.PlayerHouseLevel() == `Homeless`:
        # The Nook Stop terminal has a variety of helpful services that can make life easier for island residents. You'll need to register an address to use th…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:002', false)
    else:
        switch SubflowResults@4[0]:
            case 1:
                if System.EventFlags['cPlayerTemp:RcoHeardOfficeOBJ']:
                    # Ah! I should give you a brief introduction to that terminal as well.
                    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_00_02', false)
                else:
                    System.EventFlags['cPlayerTemp:RcoHeardOfficeOBJ'] = true
                    # Oh! How could I forget, hm? I should give you a brief explanation about that terminal.
                    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_00_01', false)
                # That…is our Nook Stop. It's a terminal for services that will further enhance your island life.
                MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_01', false)
                System.EventFlags['cPlayer:ObjRcoMachineHeardExplanation'] = true
                if System.EventFlags['cPlayer:RcoPaid1stCharge']:
                    if System.EventFlags['cLand:TanuportAmiiboCampUnlock']:
                        # Of course, you can use this terminal for catalog shopping, as an ABD, or to invite campers with amiibo. But you can also redeem those lovely Nook Mil…
                        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_05', false)
                        System.EventFlags['cPlayer:RcoMachineAmiiboCamperUnlock'] = true
                    else:
                        # Of course, you can use this terminal for catalog shopping or as an ABD, but you can also redeem Nook Miles! Please take advantage of these wonderful …
                        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_03', false)
                    if System.EventFlags['cLand:RcmImmQuestComplete']:
                        System.EventFlags['cPlayer:ObjRcoMachineHeardFenceRecipe'] = true
                else:
                    if System.EventFlags['cLand:TanuportAmiiboCampUnlock']:
                        # Currently, you can use several services, PLAYER. The first is Nook Shopping. It's a catalog shopping service for items that can be hard to find on an…
                        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_04', false)
                        System.EventFlags['cPlayer:RcoMachineAmiiboCamperUnlock'] = true
                    else:
                        # At the moment you can use two services, PLAYER. The first is Nook Shopping. It's a catalog shopping service for items that can be hard to find on an …
                        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_02', false)
            case 2:
                run ObjRcoMachineCheck_2PUnlockFence()
            case 3:
                run ObjRcoMachineCheck_UnlockAmiibo()
            default:
                return
 
flow ObjRcoMachineCheck1st_Init():
    MainNpc.NpcAISettingMainNpc.NpcAISetting(4, false)
 
flow ObjRcoMachineCheck_2PUnlockFence():
    run ObjRcoStandChair()
    System.EventFlags['cPlayerTemp:RcoMachineTalkCntl'] = true
    # Ah—yes, yes! I have something to tell you, PLAYER.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:031', false)
    # I've started offering fencing recipes as a miles-redemption option at the Nook Stop! You could use fencing to surround your home, parcel off a bit of…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:032', false)
    System.EventFlags['cPlayer:ObjRcoMachineHeardFenceRecipe'] = true
 
flow ObjRcoMachineCheck_2PUnlockFence_Init():
    MainNpc.NpcAISettingMainNpc.NpcAISetting(4, false)
 
flow ObjRcoMachineCheck_UnlockAmiibo():
    run ObjRcoStandChair()
    System.EventFlags['cPlayerTemp:RcoMachineTalkCntl'] = true
    # Ah—yes, yes! I have something to tell you, PLAYER.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:021', false)
    if System.EventFlags['cPlayer:MakeVillagePlayerFlag']:
        # It's about our campsite… Waiting for visitors is OK, but maybe you're interested in taking a more proactive approach? If so, you can use amiibo to in…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:022', false)
    else:
        # You know that we now have a campsite on the island, yes? Well, I've added a new service that lets you invite a guest to said campsite!
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:023', false)
    # You can access the service via the Nook Stop. It works with an Animal Crossing character's amiibo.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:024', false)
    System.EventFlags['cPlayer:RcoMachineAmiiboCamperUnlock'] = true
 
flow ObjRcoMachineCheck_UnlockAmiibo_Init():
    MainNpc.NpcAISettingMainNpc.NpcAISetting(4, false)
 
flow ObjRcoRecycleBox1st():
    run ObjRcoStandChair()
    System.EventFlags['cPlayer:AccessLostPropertyBox1st'] = true
    if System.EventFlags['cPlayerTemp:RcoHeardOfficeOBJ']:
        # Oh! I should give you a brief introduction to that box too.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:011_02', false)
    else:
        System.EventFlags['cPlayerTemp:RcoHeardOfficeOBJ'] = true
        # Oh! How silly of me to forget! I need to give you a brief introduction to that box there.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:011_01', false)
    # That is a recycle box for all the island residents to use.
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:012', false)
    if System.EventFlags['cPlayer:MainmenuCall']:
        # We'll be using it for items removed during construction and such. And if you use the app to call another resident, anything they dig up or catch will…
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:013_02', false)
    else:
        # We'll be using it for items removed during construction and such.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:013_01', false)
    if not System.EventFlags['cPlayer:PlayerProducedByPlayerMoving']:
        run TalkAboutRecycleBox_NormalSeq()
    elif not System.EventFlags['cPlayer:MakeVillagePlayerFlag']:
        if System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']:
            # Please don't hesitate to take anything you like, hm!
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:015', false)
            # That's also where you'll find any items you entrusted to me when you moved here.
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:016_02', false)
            # If the box gets full, we'll get rid of the oldest items first, so don't delay in pulling out your belongings!
            MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:017', false)
        else:
            run TalkAboutRecycleBox_NormalSeq()
    elif System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']:
        # Please don't hesitate to take anything you like, hm!
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:015', false)
        # That's also where you'll find anything you entrusted to me when we sorted out your belongings after your move.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:016', false)
        # If the box gets full, we'll get rid of the oldest items first, so don't delay in pulling out your belongings!
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:017', false)
    elif System.EventFlags['cPlayer:PocketItemSendRecycleBoxByMoving']:
        # Please don't hesitate to take anything you like, hm!
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:015', false)
        # That's also where you'll find anything left in your tent when we removed it to set up your home.
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:016_01', false)
        # If the box gets full, we'll get rid of the oldest items first, so don't delay in pulling out your belongings!
        MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:017', false)
    else:
        run TalkAboutRecycleBox_NormalSeq()
 
flow ObjRcoRecycleBox1st_Init():
    MainNpc.NpcAISettingMainNpc.NpcAISetting(4, false)
 
flow ObjRcoStandChair():
    MainNpc.RcoStandUpChairMainNpc.RcoStandUpChair()
    MainNpc.TalkCameraMainNpc.TalkCamera(true, 'cTalk', 0)
 
flow TalkAboutRecycleBox_NormalSeq():
    # Yes, yes! If you see anything you like, feel free to take it right on home. If the box gets full, we'll get rid of the oldest items first, so don't d…
    MainNpc.OpenMessageWindowMainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:014', false)
 
